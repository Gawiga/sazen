---
import PageLayout from "~/layouts/PageLayout.astro";

const metadata = {
  title: "Relatórios",
  description: "Selecione o tipo de relatório",
};
---

<PageLayout metadata={metadata}>
  <section class="mx-auto max-w-5xl px-4 py-8 sm:py-10">
    <div class="mb-6">
      <a
        href="/dashboard"
        class="mb-3 inline-flex items-center text-sm text-gray-600 hover:underline dark:text-gray-400"
        >← Voltar ao Dashboard</a
      >
      <h1 class="text-2xl font-bold text-gray-900 dark:text-white sm:text-3xl">
        Relatórios
      </h1>
      <p class="text-sm text-gray-600 dark:text-gray-400">
        Escolha qual relatório deseja visualizar.
      </p>
    </div>

    <div
      id="reports-info-banner"
      class="mb-4 flex items-start justify-between gap-3 rounded bg-blue-50 p-3 text-sm text-blue-800 dark:bg-blue-900 dark:text-blue-200">
      <p>
        <strong>Informação:</strong> Os relatórios foram separados para facilitar leitura e manutenção. Use os atalhos abaixo para abrir o relatório desejado.
      </p>
      <button
        id="close-reports-banner"
        type="button"
        class="inline-flex h-6 w-6 items-center justify-center rounded border border-blue-300 text-blue-700 transition hover:bg-blue-100 dark:border-blue-700 dark:text-blue-200 dark:hover:bg-blue-800"
        aria-label="Fechar informação">
        ×
      </button>
    </div>

    <div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
      <a
        href="/relatorios-faturamento"
        class="inline-flex min-h-11 items-center justify-center rounded-md bg-indigo-600 px-4 py-2 text-white transition hover:bg-indigo-700">
        Faturamento Mensal
      </a>
      <a
        href="/relatorios-valores-receber"
        class="inline-flex min-h-11 items-center justify-center rounded-md bg-blue-600 px-4 py-2 text-white transition hover:bg-blue-700">
        Valores a Receber
      </a>
    </div>
  </section>

  <script>
    function init() {
      const closeBtn = document.getElementById("close-reports-banner");
      const banner = document.getElementById("reports-info-banner");
      closeBtn?.addEventListener("click", () => banner?.classList.add("hidden"));
    }

    document.addEventListener("astro:page-load", init);
    if (document.readyState === "complete") {
      init();
    } else {
      document.addEventListener("DOMContentLoaded", init);
    }
  </script>
</PageLayout>
